%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:

\chapter{总结与展望}
\label{cha:sum}

本文提出并实践了一套完整的利用形式化方法进行嵌入式程序里中断实时性研究的方案。

经过大量的文献阅读和项目实践，本文提出了三种常见中断类型。在详细分析了这三类中断
的实现机制，尤其是对分段中断的软件二次实现进行了深入的理解之后。之后，本文给出了
在扩展的秒表自动机的定义之下，三类中断的时间自动机模型，以及中断系统对应的时间自
动机网络的定义。

本文所提出的三种中断类型覆盖了现在市面上绝大多数软硬件的中断机制，在应用到具体的
项目中时，只需要结合具体的平台和项目需求，稍作修改即可用于中断的时间性质分析。

在第~\ref{cha:case} 章中，本文结合实际项目，应用提出的中断模型以及模型构建的方
法对某航空控制系统的中断进行了建模分析。在\uppaal 中，每个中断都被合适
的时间自动机模型表示。通过\uppaal 集成的模拟器和验证器，本文找出了该程序中断设置
的一个漏洞，针对该漏洞找到一条反例，并得到项目合作方工程师的认可。

本文的主要贡献有：

\begin{itemize}
	\item 提出利用形式化方法进行面向嵌入式程序里中断实时性研究的方案
	\item 归纳现有的各类中断，并给出其时间自动机模型
	\item 针对某嵌入式平台的实时软件系统的中断模型和对其实时性的验证
\end{itemize}

然而，本文的工作有需要改进的地方。本文提出的三种中断模型中，重入和分段的特征在实
际的应用中是可能同时存在一个中断上的。融合这两个特征会使中断自动机更为复杂。也许
可以有其他的建模思路来简洁地表示同时具有重入和分段两个特征的中断。

分段中断在现阶段的实现基本都是靠软件，各家实现了分段中断的实时操作系统的实现机制
在细节上各有不同。即使是同一个操作系统，在不同的硬件平台上的实现细节也因为必须依
赖硬件的行为而有所不同。本文在建模时只深入研究了少数几个实时操作系统在少数硬件平
台上的实现，该分段模型的应用的范围也许不如另外两个模型那么广泛。而且随着实现方案
的不断演进，即使在这么抽象的层次，该模型可能也会需要随之修改。

最后，在应用到某嵌入式平台的中断驱动程序中时，由于部分中断的触发次数太多导致状态
空间过大，以致部分性质无法在可以容忍的时间和经济成本内得到验证。不过这也许不仅仅
通过抽象建模阶段的工作就可以的解决的。也许我们还需要\uppaal 背后依托的时间自动机
理论和模型检测这项技术的原理来改善，直到解决这个问题。

